https://pta.patest.cn/pta/test/3512/exam/4/question/62615

//模拟堆栈算法
#include<iostream>
#include<stack>
#include<queue>
using namespace std;

bool Judge(int M, int N)
{
	int i = 1, t;
	stack <int> s;
	queue <int> q;
	while(N-- > 0)
	{
		cin >> t;
		q.push(t);
	}
	while (!q.empty())
	{
		t = q.front();
		q.pop();

		while (i <= t)
		{
			s.push(i++);
			if (s.size() > M)
				return false;
		}

		if (s.top() == t)
			s.pop();
		else
			return false;
	}

	return true;
}

int main()
{
	int M, N, K;
	cin >> M >> N >> K;
	while (K-- > 0)
	{
		if (Judge(M, N))
			cout << "YES" << endl;
		else
			cout << "NO" << endl;
	}
	return 0;
}
